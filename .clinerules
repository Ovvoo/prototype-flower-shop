# üéØ –ü–†–ê–í–ò–õ–ê –ö–û–î–ò–†–û–í–ê–ù–ò–Ø | FLOWER SHOP E-COMMERCE
# –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö 2026

## üìö –ò–°–¢–û–ß–ù–ò–ö–ò (Official Documentation)
# Next.js 16: https://nextjs.org/docs/app/guides/upgrading/version-16
# React 19: https://react.dev/blog/2024/12/05/react-19
# Laravel 11: https://laravel.com/docs/11.x/contributions
# TypeScript 5.9: https://www.typescriptlang.org/docs/handbook/declaration-files/do-s-and-don-ts.html
# Google TypeScript Style: https://google.github.io/styleguide/tsguide.html

---

## üåü –û–ë–©–ò–ï –ü–†–ò–ù–¶–ò–ü–´ (MANDATORY)

### ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
- **DRY (Don't Repeat Yourself)**: –ï—Å–ª–∏ –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 2+ —Ä–∞–∑–∞, –≤—ã–Ω–æ—Å–∏—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—é/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **Single Responsibility Principle**: –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è = –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞
- **Composability**: –ú–∞–ª–µ–Ω—å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å
- **Pure Functions**: –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ side effects

### ‚úÖ –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
- **Separation of Concerns**: –õ–æ–≥–∏–∫–∞, UI, —Å—Ç–∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- **Feature-based structure**: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –ø–æ —Ñ–∏—á–∞–º, –Ω–µ –ø–æ —Ç–∏–ø–∞–º
- **Explicit imports**: –ù–∏–∫–∞–∫–∏—Ö `import *`, —Ç–æ–ª—å–∫–æ named imports
- **Interface Segregation**: –ú–∞–ª–µ–Ω—å–∫–∏–µ, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### ‚úÖ –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å
- **Meaningful names**: `getUserOrders()` –≤–º–µ—Å—Ç–æ `get()` –∏–ª–∏ `fetch()`
- **Verb-noun convention**: `createOrder`, `fetchProducts`, `updateProfile`
- **No magic numbers**: –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ UPPER_CASE
- **Comments only for "why"**: –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å self-documenting

### ‚úÖ Type Safety
- **No `any` type**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `unknown` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø
- **Strict mode enabled**: `"strict": true` –≤ tsconfig.json
- **Explicit return types**: –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å return type –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
- **Type guards**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å type narrowing –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## ‚öõÔ∏è REACT 19 BEST PRACTICES

### 1. Component Structure
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —è–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
interface ProductCardProps {
  product: Product
  onAddToCart: (id: string) => void
}

export function ProductCard({ product, onAddToCart }: ProductCardProps) {
  return (...)
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –±–µ–∑ —Ç–∏–ø–æ–≤, default export
export default function ProductCard(props: any) {
  return (...)
}
```

### 2. Hooks Rules (React 19)
- **useActionState** –¥–ª—è form submissions –≤–º–µ—Å—Ç–æ useState + onSubmit
- **useOptimistic** –¥–ª—è optimistic UI updates
- **useFormStatus** –¥–ª—è loading states —Ñ–æ—Ä–º
- **use()** API –¥–ª—è async data fetching –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **–í—Å–µ–≥–¥–∞ named exports** –¥–ª—è hooks: `export function useCart() {}`

### 3. Server vs Client Components
```typescript
// ‚úÖ Server Component (default) - –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏ –∏ data fetching
export default async function ProductPage({ params }: { params: { id: string } }) {
  const product = await fetchProduct(params.id)
  return <ProductDetail product={product} />
}

// ‚úÖ Client Component - –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
'use client'
export function AddToCartButton({ productId }: { productId: string }) {
  const [isPending, startTransition] = useTransition()
  // ...
}
```

**–ü—Ä–∞–≤–∏–ª–æ:** –ò—Å–ø–æ–ª—å–∑—É–π Server Components –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, Client Components —Ç–æ–ª—å–∫–æ –¥–ª—è:
- Event handlers (onClick, onChange)
- State (useState, useReducer)
- Effects (useEffect)
- Browser APIs (localStorage, window)

### 4. Data Fetching
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: async Server Component
export default async function Page() {
  const data = await fetch('https://api.example.com/data', {
    next: { revalidate: 3600 } // ISR
  })
  return <Component data={data} />
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: useEffect –≤ Server Component
export default function Page() {
  const [data, setData] = useState(null)
  useEffect(() => {
    fetch('...').then(setData) // ‚ùå –ù–µ –¥–µ–ª–∞—Ç—å —Ç–∞–∫
  }, [])
}
```

### 5. Performance
- **React.memo()** –Ω–µ –Ω—É–∂–µ–Ω –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ (React 19 Compiler auto-memoize)
- **Lazy loading**: –ò—Å–ø–æ–ª—å–∑—É–π `React.lazy()` –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Suspense boundaries**: –û–±–æ—Ä–∞—á–∏–≤–∞–π async components –≤ `<Suspense>`
- **Code splitting**: –û–¥–∏–Ω —Ä–æ—É—Ç = –æ–¥–∏–Ω chunk (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ Next.js)

---

## üöÄ NEXT.JS 16 BEST PRACTICES

### 1. File Structure
```
app/
‚îú‚îÄ‚îÄ (routes)/
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx              # Server Component
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx            # Layout wrapper
‚îÇ   ‚îú‚îÄ‚îÄ loading.tsx           # Loading UI
‚îÇ   ‚îú‚îÄ‚îÄ error.tsx             # Error boundary
‚îÇ   ‚îî‚îÄ‚îÄ not-found.tsx         # 404 page
‚îú‚îÄ‚îÄ _components/              # –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–æ—É—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ ProductCard.tsx
‚îî‚îÄ‚îÄ api/                      # API routes (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
    ‚îî‚îÄ‚îÄ route.ts
```

### 2. Async API Rules (Next.js 16)
**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –í—Å–µ params, cookies, headers —Ç–µ–ø–µ—Ä—å ASYNC!

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (Next.js 16)
export default async function Page({ params }: { params: Promise<{ id: string }> }) {
  const { id } = await params
  return <div>{id}</div>
}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: headers, cookies
import { cookies, headers } from 'next/headers'

export async function GET() {
  const cookieStore = await cookies()
  const headersList = await headers()
  const token = cookieStore.get('token')
  return Response.json({ token })
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
const { id } = params // ‚ùå Error –≤ Next.js 16!
```

### 3. Caching Strategy (Next.js 16)
```typescript
// ‚úÖ –Ø–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫—ç—à–∞ (–Ω–æ–≤—ã–µ API)
import { revalidateTag, updateTag } from 'next/cache'

// –í Server Component –∏–ª–∏ API route
await fetch('https://api.example.com/products', {
  next: {
    tags: ['products'], // –¢–µ–≥–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å
    revalidate: 3600 // ISR: 1 —á–∞—Å
  }
})

// –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞
revalidateTag('products') // –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
```

### 4. Metadata (SEO)
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Dynamic metadata
export async function generateMetadata({ params }: { params: Promise<{ id: string }> }) {
  const { id } = await params
  const product = await fetchProduct(id)

  return {
    title: product.name,
    description: product.description,
    openGraph: {
      images: [product.images[0]]
    }
  }
}

// ‚úÖ Static metadata
export const metadata = {
  title: '–ì–ª–∞–≤–Ω–∞—è',
  description: '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —Ü–≤–µ—Ç–æ–≤'
}
```

### 5. Turbopack (Next.js 16 default)
- **–ù–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å webpack** - Turbopack —Ç–µ–ø–µ—Ä—å default
- **2-5x –±—ã—Å—Ç—Ä–µ–µ —Å–±–æ—Ä–∫–∏** - —Ä–∞–±–æ—Ç–∞–µ—Ç out of the box
- **Hot Reload –∑–∞ <1s** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üé® TYPESCRIPT 5.9 BEST PRACTICES

### 1. Type Definitions
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –Ø–≤–Ω—ã–µ —Ç–∏–ø—ã
interface Product {
  id: string
  name: string
  price: number
  images: string[]
  category: Category
}

type Category = 'bouquets' | 'plants' | 'gifts' | 'occasions'

// ‚úÖ Utility types
type ProductPreview = Pick<Product, 'id' | 'name' | 'price'>
type PartialProduct = Partial<Product>
type RequiredProduct = Required<Product>

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
const product: any = { ... } // ‚ùå Never use `any`
```

### 2. Function Types
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Explicit return type
function calculateTotal(items: CartItem[]): number {
  return items.reduce((sum, item) => sum + item.price * item.quantity, 0)
}

// ‚úÖ Async functions
async function fetchProduct(id: string): Promise<Product> {
  const response = await fetch(`/api/products/${id}`)
  return response.json()
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –±–µ–∑ return type
function calculateTotal(items: CartItem[]) { // ‚ùå
  return items.reduce(...)
}
```

### 3. Type Guards
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Type narrowing
function isProduct(item: unknown): item is Product {
  return (
    typeof item === 'object' &&
    item !== null &&
    'id' in item &&
    'name' in item
  )
}

// Usage
if (isProduct(data)) {
  console.log(data.name) // ‚úÖ TypeScript knows it's Product
}
```

### 4. Generic Types
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏
interface ApiResponse<T> {
  data: T
  status: number
  message: string
}

async function apiFetch<T>(url: string): Promise<ApiResponse<T>> {
  const response = await fetch(url)
  return response.json()
}

// Usage
const products = await apiFetch<Product[]>('/api/products')
```

### 5. Never use
- ‚ùå `any` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `unknown` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø
- ‚ùå `// @ts-ignore` - –ª—É—á—à–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø
- ‚ùå `Object` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `object` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚ùå `Function` - —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É

---

## üêò LARAVEL 11 BEST PRACTICES

### 1. Controller Structure
```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Thin controllers, fat services
class ProductController extends Controller
{
    public function __construct(
        private ProductService $productService
    ) {}

    public function index(Request $request): JsonResponse
    {
        $products = $this->productService->getFilteredProducts(
            $request->validated()
        );

        return ProductResource::collection($products);
    }
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
public function index(Request $request) {
    $query = Product::query();
    if ($request->category_id) {
        $query->where('category_id', $request->category_id);
    }
    // ... 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∏–∫–∏ ‚ùå
}
```

### 2. Service Layer
```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
class OrderService
{
    public function __construct(
        private PromoCodeService $promoCodeService,
        private NotificationService $notificationService
    ) {}

    public function createOrder(array $data, ?int $userId = null): Order
    {
        DB::beginTransaction();

        try {
            $order = $this->buildOrder($data, $userId);
            $this->processOrderItems($order, $data['items']);
            $this->applyPromoCode($order, $data['promo_code'] ?? null);

            DB::commit();

            event(new OrderCreated($order));

            return $order;
        } catch (\Exception $e) {
            DB::rollBack();
            throw $e;
        }
    }

    private function buildOrder(array $data, ?int $userId): Order
    {
        return Order::create([...]);
    }
}
```

### 3. Eloquent Best Practices
```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Eloquent —Å relationships
class Product extends Model
{
    protected $fillable = [
        'name', 'slug', 'description', 'price', 'category_id'
    ];

    protected $casts = [
        'images' => 'array',
        'flower_types' => 'array',
        'price' => 'decimal:2',
        'is_active' => 'boolean'
    ];

    public function category(): BelongsTo
    {
        return $this->belongsTo(Category::class);
    }

    public function reviews(): HasMany
    {
        return $this->hasMany(Review::class);
    }

    // Scopes
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    public function scopeFeatured($query)
    {
        return $query->where('is_featured', true);
    }
}

// Usage
$products = Product::active()
    ->featured()
    ->with(['category', 'reviews'])
    ->paginate(24);

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: Raw SQL
$products = DB::select('SELECT * FROM products WHERE is_active = 1'); // ‚ùå
```

### 4. Form Requests
```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Dedicated Form Request
class StoreOrderRequest extends FormRequest
{
    public function authorize(): bool
    {
        return true;
    }

    public function rules(): array
    {
        return [
            'customer_name' => ['required', 'string', 'max:255'],
            'customer_email' => ['required', 'email'],
            'customer_phone' => ['required', 'regex:/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/'],
            'items' => ['required', 'array', 'min:1'],
            'items.*.product_id' => ['required', 'exists:products,id'],
            'items.*.quantity' => ['required', 'integer', 'min:1'],
        ];
    }

    public function messages(): array
    {
        return [
            'customer_name.required' => '–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è',
            'customer_email.email' => '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email',
        ];
    }
}

// Usage in Controller
public function store(StoreOrderRequest $request): JsonResponse
{
    $validated = $request->validated(); // ‚úÖ –£–∂–µ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–æ
}
```

### 5. API Resources
```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: API Resources –¥–ª—è consistent output
class ProductResource extends JsonResource
{
    public function toArray($request): array
    {
        return [
            'id' => $this->id,
            'name' => $this->name,
            'slug' => $this->slug,
            'price' => $this->price,
            'images' => $this->images,
            'category' => new CategoryResource($this->whenLoaded('category')),
            'rating' => $this->reviews_avg_rating ?? 0,
            'review_count' => $this->reviews_count ?? 0,
            'is_available' => $this->stock > 0,
            'created_at' => $this->created_at?->toIso8601String(),
        ];
    }
}

// Usage
return ProductResource::collection($products);
return new ProductResource($product);
```

### 6. Events & Listeners
```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
class OrderCreated
{
    public function __construct(
        public Order $order
    ) {}
}

class SendOrderConfirmation implements ShouldQueue
{
    public function handle(OrderCreated $event): void
    {
        Mail::to($event->order->customer_email)
            ->send(new OrderConfirmed($event->order));
    }
}

// –í EventServiceProvider
protected $listen = [
    OrderCreated::class => [
        SendOrderConfirmation::class,
        NotifyAdmin::class,
        UpdateInventory::class,
    ],
];
```

---

## üì¶ –ö–û–ú–ü–û–ù–ï–ù–¢–´ (Component Patterns)

### 1. Atomic Design
```
components/
‚îú‚îÄ‚îÄ atoms/              # –ë–∞–∑–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îî‚îÄ‚îÄ Badge.tsx
‚îú‚îÄ‚îÄ molecules/          # –ü—Ä–æ—Å—Ç—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ SearchBar.tsx
‚îÇ   ‚îú‚îÄ‚îÄ QuantitySelector.tsx
‚îÇ   ‚îî‚îÄ‚îÄ PriceDisplay.tsx
‚îú‚îÄ‚îÄ organisms/          # –°–ª–æ–∂–Ω—ã–µ –±–ª–æ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.tsx
‚îÇ   ‚îú‚îÄ‚îÄ CheckoutForm.tsx
‚îÇ   ‚îî‚îÄ‚îÄ Navigation.tsx
‚îî‚îÄ‚îÄ templates/          # Layouts
    ‚îú‚îÄ‚îÄ MainLayout.tsx
    ‚îî‚îÄ‚îÄ AdminLayout.tsx
```

### 2. Component Rules
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Small, focused components
interface ButtonProps {
  children: React.ReactNode
  variant?: 'primary' | 'secondary' | 'outline'
  size?: 'sm' | 'md' | 'lg'
  onClick?: () => void
  disabled?: boolean
}

export function Button({
  children,
  variant = 'primary',
  size = 'md',
  onClick,
  disabled = false
}: ButtonProps) {
  const baseStyles = 'rounded-lg font-semibold transition-all'
  const variantStyles = {
    primary: 'bg-pink-600 text-white hover:bg-pink-700',
    secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300',
    outline: 'border-2 border-pink-600 text-pink-600 hover:bg-pink-50'
  }
  const sizeStyles = {
    sm: 'px-4 py-2 text-sm',
    md: 'px-6 py-3 text-base',
    lg: 'px-8 py-4 text-lg'
  }

  return (
    <button
      className={`${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]}`}
      onClick={onClick}
      disabled={disabled}
    >
      {children}
    </button>
  )
}
```

### 3. Custom Hooks
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞ –≤ hooks
export function useDebounce<T>(value: T, delay: number): T {
  const [debouncedValue, setDebouncedValue] = useState<T>(value)

  useEffect(() => {
    const timer = setTimeout(() => setDebouncedValue(value), delay)
    return () => clearTimeout(timer)
  }, [value, delay])

  return debouncedValue
}

// Usage
const searchQuery = useDebounce(inputValue, 300)
```

---

## üîí SECURITY RULES

### 1. Frontend Security
- **Never store secrets** –≤ environment variables
- **Validate all inputs** –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–Ω–æ –Ω–µ –¥–æ–≤–µ—Ä—è—Ç—å)
- **Sanitize user content** –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- **Use HTTPS only** –≤ production
- **CSP headers** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç XSS

### 2. Backend Security
```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Eloquent –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç SQL Injection
Product::where('name', $request->search)->get(); // ‚úÖ Safe

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: Raw SQL vulnerable
DB::select("SELECT * FROM products WHERE name = '$request->search'"); // ‚ùå SQL Injection!

// ‚úÖ Authorization
public function update(Request $request, Order $order)
{
    $this->authorize('update', $order); // ‚úÖ Policy check
    // ...
}

// ‚úÖ CSRF Protection (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ Laravel)
// ‚úÖ Mass Assignment Protection
protected $guarded = ['id', 'created_at', 'updated_at'];
```

---

## üß™ TESTING RULES

### 1. Test Structure
```typescript
// ‚úÖ Frontend: Vitest + Testing Library
describe('ProductCard', () => {
  it('should display product name and price', () => {
    const product = { id: '1', name: 'Rose', price: 500 }
    render(<ProductCard product={product} />)

    expect(screen.getByText('Rose')).toBeInTheDocument()
    expect(screen.getByText('500 ‚ÇΩ')).toBeInTheDocument()
  })

  it('should call onAddToCart when button clicked', async () => {
    const onAddToCart = vi.fn()
    render(<ProductCard product={product} onAddToCart={onAddToCart} />)

    await userEvent.click(screen.getByText('–í –∫–æ—Ä–∑–∏–Ω—É'))
    expect(onAddToCart).toHaveBeenCalledWith('1')
  })
})
```

```php
// ‚úÖ Backend: PHPUnit
class OrderServiceTest extends TestCase
{
    use RefreshDatabase;

    public function test_creates_order_with_items(): void
    {
        $product = Product::factory()->create(['price' => 1000, 'stock' => 10]);

        $order = $this->orderService->createOrder([
            'customer_name' => '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
            'customer_email' => 'ivan@example.com',
            'customer_phone' => '+7 (999) 123-45-67',
            'items' => [
                ['product_id' => $product->id, 'quantity' => 2]
            ]
        ]);

        $this->assertDatabaseHas('orders', [
            'customer_name' => '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
            'total_amount' => 2500 // 2000 + 500 delivery
        ]);

        $this->assertEquals(8, $product->fresh()->stock);
    }
}
```

---

## üìè FILE SIZE LIMITS (Anthropic Recommendations)

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices), [HumanLayer CLAUDE.md Guide](https://www.humanlayer.dev/blog/writing-a-good-claude-md)

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã
- **CLAUDE.md (root)**: < 60 —Å—Ç—Ä–æ–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è HumanLayer/Anthropic)
- **CLAUDE.md (nested)**: < 100 —Å—Ç—Ä–æ–∫
- **Utility functions**: < 50 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é
- **Components**: < 200 —Å—Ç—Ä–æ–∫
- **Services/Controllers**: < 300 —Å—Ç—Ä–æ–∫
- **Test files**: < 300 —Å—Ç—Ä–æ–∫

### –ü—Ä–∏—á–∏–Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- **Context window**: 200K tokens (—Å—Ç–∞–Ω–¥–∞—Ä—Ç Claude Sonnet)
- **Performance degradation**: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π 1/5 —á–∞—Å—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- **Better accuracy**: –ú–∞–ª–µ–Ω—å–∫–∏–µ —Ñ–∞–π–ª—ã = –ª—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ Claude
- **Reusability**: –ú–∞–ª–µ–Ω—å–∫–∏–µ –º–æ–¥—É–ª–∏ –ª–µ–≥—á–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
```typescript
// ‚ùå –ü–õ–û–•–û: –û–¥–∏–Ω –æ–≥—Ä–æ–º–Ω—ã–π —Ñ–∞–π–ª (500+ —Å—Ç—Ä–æ–∫)
// components/CheckoutPage.tsx

// ‚úÖ –•–û–†–û–®–û: –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏
components/checkout/
‚îú‚îÄ‚îÄ CheckoutPage.tsx          (< 100 —Å—Ç—Ä–æ–∫ - orchestrator)
‚îú‚îÄ‚îÄ ContactForm.tsx           (< 150 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ DeliveryForm.tsx          (< 150 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ PaymentMethodSelector.tsx (< 100 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ OrderSummary.tsx          (< 150 —Å—Ç—Ä–æ–∫)
```

## üìù NAMING CONVENTIONS

### Frontend (TypeScript/React)
- **Files**: PascalCase –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (`ProductCard.tsx`), camelCase –¥–ª—è —É—Ç–∏–ª–∏—Ç (`formatPrice.ts`)
- **Components**: PascalCase (`function ProductCard() {}`)
- **Hooks**: camelCase —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `use` (`useCart`, `useAuth`)
- **Types/Interfaces**: PascalCase (`interface Product {}`)
- **Constants**: UPPER_SNAKE_CASE (`const MAX_CART_ITEMS = 50`)

### Backend (PHP/Laravel)
- **Classes**: PascalCase (`class ProductService {}`)
- **Methods**: camelCase (`public function createOrder() {}`)
- **Variables**: camelCase (`$orderTotal`)
- **Constants**: UPPER_SNAKE_CASE (`const MAX_FILE_SIZE = 5120`)
- **Database tables**: snake_case plural (`products`, `order_items`)
- **Database columns**: snake_case (`customer_name`, `created_at`)

---

## üö´ –ó–ê–ü–†–ï–©–ï–ù–û

### ‚ùå Anti-patterns
1. **God Objects** - –∫–ª–∞—Å—Å—ã/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å 500+ —Å—Ç—Ä–æ–∫–∞–º–∏ –∫–æ–¥–∞
2. **Prop Drilling** - –ø–µ—Ä–µ–¥–∞—á–∞ props —á–µ—Ä–µ–∑ 3+ —É—Ä–æ–≤–Ω—è (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Context)
3. **Magic Numbers** - —Ö–∞—Ä–¥–∫–æ–¥ —á–∏—Å–µ–ª –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
4. **Commented Code** - —É–¥–∞–ª—è—Ç—å, –Ω–µ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
5. **console.log()** –≤ production - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å proper logging
6. **setTimeout/setInterval** –±–µ–∑ cleanup
7. **fetch –±–µ–∑ error handling**
8. **–ú—É—Ç–∞—Ü–∏—è props** - props immutable!
9. **Direct DOM manipulation** –≤ React
10. **SQL Injection** - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Eloquent/prepared statements

### ‚ùå –ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- –°–º–µ—à–∏–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `any` –≤ TypeScript
- –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å API URLs (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .env)
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å TypeScript –æ—à–∏–±–∫–∏
- –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å edge cases
- –ù–µ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–∏

---

## ‚úÖ CODE REVIEW CHECKLIST

–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—å:
- [ ] –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞ (DRY)
- [ ] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ < 50 —Å—Ç—Ä–æ–∫
- [ ] –í—Å–µ —Ç–∏–ø—ã —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω—ã (TypeScript)
- [ ] –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `any`, `@ts-ignore`
- [ ] –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã –≤—Å–µ error cases
- [ ] –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ (–≤—Å–µ –≤ .env –∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö)
- [ ] –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç lint (ESLint, Laravel Pint)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ò–°–¢–û–ß–ù–ò–ö–ò

- [Next.js 16 Docs](https://nextjs.org/docs/app/guides/upgrading/version-16)
- [React 19 Blog](https://react.dev/blog/2024/12/05/react-19)
- [Laravel 11 Docs](https://laravel.com/docs/11.x)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/handbook/intro.html)
- [Google TypeScript Style Guide](https://google.github.io/styleguide/tsguide.html)
- [Patterns.dev React 2026](https://www.patterns.dev/react/react-2026/)

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 27 —è–Ω–≤–∞—Ä—è 2026
**–°—Ç–∞—Ç—É—Å:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è
